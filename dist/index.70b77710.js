const key="4fa592d94426516b6e4d2bdb8f30b2dd",tempPara=document.querySelector(".temp"),unitsCheck=document.querySelector(".unitsCheck"),humidityPara=document.querySelector(".humidity"),windPara=document.querySelector(".wind"),weatherDescPara=document.querySelector(".weather-description"),city=document.querySelector(".location"),input=document.querySelector(".input-location-name"),datePara=document.querySelector(".date");let temp,date;function getWeatherByCity(e){fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&appid="+key).then((function(e){return e.json()})).then((function(e){console.log(e),unitsCheck.checked?unitsCheck.checked&&(temp=(9*(e.main.temp-273.15)/5+32).toFixed(2)):temp=(e.main.temp-273.15).toFixed(2),tempPara.textContent=temp,city.textContent=e.name,humidityPara.textContent=`${e.main.humidity}%`,windPara.textContent=`${e.wind.speed} m/s`,weatherDescPara.textContent=e.weather[0].description,date=`${Date().slice(0,3)}, ${Date().slice(9,11)}${Date().slice(4,8)}${Date().slice(11,16)}`,datePara.textContent=date})).catch((function(e){console.log("Caught an error: ",e)}))}function getWeatherBylatlon(e,t){fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${key}`).then((function(e){return e.json()})).then((function(e){unitsCheck.checked?unitsCheck.checked&&(temp=(9*(e.main.temp-273.15)/5+32).toFixed(2)):temp=(e.main.temp-273.15).toFixed(2),tempPara.textContent=temp,city.textContent=e.name,humidityPara.textContent=`${e.main.humidity}%`,windPara.textContent=`${e.wind.speed} m/s`,weatherDescPara.textContent=e.weather[0].description})).catch((function(e){console.log("Caught an error: ",e)}))}function getLocalWeather(){const e=document.querySelector("#status");navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){getWeatherBylatlon(e.coords.latitude,e.coords.longitude)}),(function(){e.textContent="Unable to retrieve your location"})):e.textContent="Geolocation is not supported by your browser"}function kelvins2Ferenheits(e){return(e-273.15).toFixed(2)}function kelvins2Celsius(e){return(9*(e-273.15)/5+32).toFixed(2)}function ferenheit2Celsius(e){return(5*(e-32)/9).toFixed(2)}function celsius2Ferenheit(e){return(9*e/5+32).toFixed(2)}document.querySelector("#find-loc-weather").addEventListener("click",getLocalWeather),unitsCheck.addEventListener("change",(()=>{unitsCheck.checked?unitsCheck.checked&&(tempPara.textContent=temp=celsius2Ferenheit(temp)):tempPara.textContent=temp=ferenheit2Celsius(temp)})),input.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),getWeatherByCity(input.value),input.value=""),console.log(e)})),getWeatherByCity("London");
//# sourceMappingURL=index.70b77710.js.map
